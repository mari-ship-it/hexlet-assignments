plugins {
    id 'checkstyle'
}

repositories {
    mavenCentral()
}

checkstyle {
    toolVersion '8.41'
}

tasks.register('checkExercises', Checkstyle) {
    file('.').eachDir { course ->
        def exercise = project.hasProperty('exercise') ? project.exercise : ''
        source course.name + '/' + exercise
        include '**/*.java'
        exclude '**/build/**'
        classpath = files()
    }
}
